/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as l,jsxs as I}from"@dropins/tools/preact-jsx-runtime.js";import{e as y,c as w}from"../chunks/emailConsent.js";import{classes as v}from"@dropins/tools/lib.js";import*as p from"@dropins/tools/preact-compat.js";import{Suspense as R,lazy as t,useState as x,useRef as C}from"@dropins/tools/preact-compat.js";import{useState as P,useEffect as T}from"@dropins/tools/preact-hooks.js";const b=e=>p.createElement("svg",{id:"Icon_Check_Base","data-name":"Icon \\u2013 Check \\u2013 Base",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...e},p.createElement("g",{id:"Large"},p.createElement("rect",{id:"Placement_area","data-name":"Placement area",width:24,height:24,fill:"#fff",opacity:0}),p.createElement("g",{id:"Check_icon","data-name":"Check icon",transform:"translate(303.874 1434.583)"},p.createElement("path",{vectorEffect:"non-scaling-stroke",id:"Path_884137","data-name":"Path 884137",d:"M148,494.611l4.248,4.244,8.538-8.522",transform:"translate(-446.265 -1917.177)",fill:"none",stroke:"currentColor"})))),$=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),S=function(){const o=typeof document<"u"&&document.createElement("link").relList;return o&&o.supports&&o.supports("modulepreload")?"modulepreload":"preload"}(),U=function(e){return"/"+e},O={},r=function(o,c,s){let m=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),d=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));m=Promise.allSettled(c.map(i=>{if(i=U(i),i in O)return;O[i]=!0;const _=i.endsWith(".css"),u=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const h=document.createElement("link");if(h.rel=_?"stylesheet":S,_||(h.as="script"),h.crossOrigin="",h.href=i,d&&h.setAttribute("nonce",d),document.head.appendChild(h),_)return new Promise((E,L)=>{h.addEventListener("load",E),h.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${i}`)))})}))}function a(n){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n}return m.then(n=>{for(const d of n||[])d.status==="rejected"&&a(d.reason);return o().catch(a)})},N=e=>e.reduce((c,s)=>{if(!s)return c;if(typeof s=="string"&&(c+=` ${s}`),Array.isArray(s)){const[m,a]=s;m&&a&&(c+=` ${m}`)}return c},"").trim(),k={Add:t(()=>r(()=>import("../chunks/Add.js"),[])),Bulk:t(()=>r(()=>import("../chunks/Bulk.js"),[])),Burger:t(()=>r(()=>import("../chunks/Burger.js"),[])),Cart:t(()=>r(()=>import("../chunks/Cart.js"),[])),Check:t(()=>r(()=>Promise.resolve().then(()=>$),void 0)),ChevronDown:t(()=>r(()=>import("../chunks/ChevronDown.js"),[])),ChevronUp:t(()=>r(()=>import("../chunks/ChevronUp.js"),[])),ChevronRight:t(()=>r(()=>import("../chunks/ChevronRight.js"),[])),Close:t(()=>r(()=>import("../chunks/Close.js"),[])),Heart:t(()=>r(()=>import("../chunks/Heart.js"),[])),Minus:t(()=>r(()=>import("../chunks/Minus.js"),[])),Placeholder:t(()=>r(()=>import("../chunks/Placeholder.js"),[])),PlaceholderFilled:t(()=>r(()=>import("../chunks/PlaceholderFilled.js"),[])),Search:t(()=>r(()=>import("../chunks/Search.js"),[])),SearchFilled:t(()=>r(()=>import("../chunks/SearchFilled.js"),[])),Sort:t(()=>r(()=>import("../chunks/Sort.js"),[])),Star:t(()=>r(()=>import("../chunks/Star.js"),[])),View:t(()=>r(()=>import("../chunks/View.js"),[])),User:t(()=>r(()=>import("../chunks/User.js"),[])),Warning:t(()=>r(()=>import("../chunks/Warning.js"),[])),Locker:t(()=>r(()=>import("../chunks/Locker.js"),[])),Wallet:t(()=>r(()=>import("../chunks/Wallet.js"),[])),Card:t(()=>r(()=>import("../chunks/Card.js"),[])),Order:t(()=>r(()=>import("../chunks/Order.js"),[])),Delivery:t(()=>r(()=>import("../chunks/Delivery.js"),[])),OrderError:t(()=>r(()=>import("../chunks/OrderError.js"),[])),OrderSuccess:t(()=>r(()=>import("../chunks/OrderSuccess.js"),[])),PaymentError:t(()=>r(()=>import("../chunks/PaymentError.js"),[])),CheckWithCircle:t(()=>r(()=>import("../chunks/CheckWithCircle.js"),[])),WarningWithCircle:t(()=>r(()=>import("../chunks/WarningWithCircle.js"),[])),WarningFilled:t(()=>r(()=>import("../chunks/WarningFilled.js"),[])),InfoFilled:t(()=>r(()=>import("../chunks/InfoFilled.js"),[])),HeartFilled:t(()=>r(()=>import("../chunks/HeartFilled.js"),[])),Trash:t(()=>r(()=>import("../chunks/Trash.js"),[])),Eye:t(()=>r(()=>import("../chunks/Eye.js"),[])),EyeClose:t(()=>r(()=>import("../chunks/EyeClose.js"),[])),Date:t(()=>r(()=>import("../chunks/Date.js"),[])),AddressBook:t(()=>r(()=>import("../chunks/AddressBook.js"),[])),EmptyBox:t(()=>r(()=>import("../chunks/EmptyBox.js"),[])),Coupon:t(()=>r(()=>import("../chunks/Coupon.js"),[])),Gift:t(()=>r(()=>import("../chunks/Gift.js"),[])),GiftCard:t(()=>r(()=>import("../chunks/GiftCard.js"),[])),Edit:t(()=>r(()=>import("../chunks/Edit.js"),[]))};function A(e){try{if(e.startsWith("//")){const c=`${window.location.protocol}${e}`;return new URL(c).hostname!==window.location.hostname?(console.error(`[Icon] External URL rejected for security: ${e} - Only same-domain URLs are allowed`),!1):!0}return new URL(e).hostname!==window.location.hostname?(console.error(`[Icon] External URL rejected for security: ${e} - Only same-domain URLs are allowed`),!1):!0}catch{return console.error(`[Icon] Invalid URL format: ${e}`),!1}}function W({url:e,...o}){const[c,s]=P(""),[m,a]=P(!0),[n,d]=P(!1);return T(()=>{fetch(e).then(i=>{if(!i.ok)throw console.error(`[Icon] Failed to fetch SVG: ${i.status} ${i.statusText}`),n;return i.text()}).then(i=>{try{if(!new DOMParser().parseFromString(i,"image/svg+xml").querySelector("svg"))throw new Error("No <svg> element found")}catch(u){u instanceof Error?console.error(`[Icon] Invalid SVG content from ${e}: ${u.message}`):console.error(`[Icon] Invalid SVG content from ${e}: ${String(u)}`),d(!0),a(!1)}let _=i;o.width&&(_=_.replace(/<svg([^>]*)\s+width\s*=\s*["'][^"']*["']/gi,"<svg$1"),_=_.replace(/<svg/i,`<svg width="${o.width}"`)),o.height&&(_=_.replace(/<svg([^>]*)\s+height\s*=\s*["'][^"']*["']/gi,"<svg$1"),_=_.replace(/<svg/i,`<svg height="${o.height}"`)),o.title&&(_=_.replace(/<title[^>]*>.*?<\/title>/gi,""),_=_.replace(/<svg([^>]*)>/i,`<svg$1><title>${o.title}</title>`)),s(_),a(!1)}).catch(i=>{i instanceof Error?console.error(`[Icon] ${i.message}`):console.error(`[Icon] ${String(i)}`),d(!0),a(!1)})},[e,o.width,o.height,o.title]),m||n?l("svg",{...o}):l("span",{className:o.className,style:{width:String(o.width),height:String(o.height),display:"inline-flex",lineHeight:0},dangerouslySetInnerHTML:{__html:c}})}function j({source:e,size:o="24",stroke:c="2",viewBox:s="0 0 24 24",className:m,...a}){const n={className:N(["dropin-icon",`dropin-icon--shape-stroke-${c}`,m]),width:o,height:o,viewBox:s},d=typeof e=="string"&&(e.startsWith("http")||e.startsWith("//")||e.startsWith("/"));if(d&&A(e))return l(R,{fallback:l("svg",{...a,...n}),children:l(W,{url:e,...a,...n})});const i=typeof e=="string"&&e in k?k[e]:null,_=d&&!A(e);return l(R,{fallback:l("svg",{...a,...n}),children:i?l(i,{...a,...n}):_?l("svg",{...a,...n}):l(e,{...a,...n})})}const B=({name:e,value:o,size:c="medium",disabled:s=!1,error:m=!1,label:a="",description:n="",className:d,checked:i,..._})=>{const[u,h]=x(i===void 0?!1:i),E=C(null),L=f=>{var g;(g=_.onChange)==null||g.call(_,f),h(f.currentTarget.checked)},V=f=>{var g;f.key===" "&&(f.preventDefault(),(g=E==null?void 0:E.current)==null||g.click())};return T(()=>{typeof i=="boolean"&&h(i)},[i]),I("label",{className:v(["dropin-checkbox",["dropin-checkbox--disabled",s]]),children:[l("input",{ref:E,name:e,value:o,type:"checkbox",disabled:s,className:v(["dropin-checkbox__checkbox",["dropin-checkbox__checkbox--error",m],d]),..._,onChange:L,checked:u}),I("div",{className:"dropin-checkbox__checkbox-icon",children:["â€‹",l("span",{"aria-checked":u?"true":"false","aria-labelledby":`${e}-label`,"aria-describedby":n?`${e}-description`:void 0,className:v(["dropin-checkbox__box",["dropin-checkbox__box--error",m],["dropin-checkbox__box--disabled",s]]),role:"checkbox",tabIndex:s?-1:0,onKeyDown:V,children:l(j,{className:v(["dropin-checkbox__checkmark"]),source:b,size:"16",stroke:"3"})})]}),l("div",{id:`${e}-label`,className:v(["dropin-checkbox__label",`dropin-checkbox__label--${c}`,["dropin-checkbox__label--disabled",s]]),children:a}),l("div",{}),n&&l("div",{id:`${e}-description`,role:"note",className:v(["dropin-checkbox__description",`dropin-checkbox__description--${c}`,["dropin-checkbox__description--disabled",s]]),children:n})]})},D=({className:e,checked:o,name:c,label:s,...m})=>l("div",{...m,className:v(["emailconsent-email-consent-ui-component",e]),children:l(B,{name:c,label:s,checked:o})}),K=({enable_sms_consent:e,enable_email_consent:o,sms_consent_label:c,email_consent_label:s,sms_consent_name:m,email_consent_name:a,checked:n,sms_disclosure:d,...i})=>I("div",{...i,children:[o&&l(D,{label:s,name:a,checked:n}),e&&I("div",{class:"sms-consent",children:[l(D,{label:c,name:m,checked:n}),l("div",{class:"sms-disclosure",children:d})]})]}),M=(e,o,c,s)=>(console.log(y()),w(e,o,c,s),"Hello!");export{K as EmailConsentContainer,M as KlaviyoApiCreateUpdate,K as default};
//# sourceMappingURL=EmailConsentContainer.js.map
