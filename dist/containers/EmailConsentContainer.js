/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as a,jsxs as P}from"@dropins/tools/preact-jsx-runtime.js";import{classes as v}from"@dropins/tools/lib.js";import*as p from"@dropins/tools/preact-compat.js";import{Suspense as R,lazy as e,useState as b,useRef as y}from"@dropins/tools/preact-compat.js";import{useState as L,useEffect as D}from"@dropins/tools/preact-hooks.js";const T=r=>p.createElement("svg",{id:"Icon_Check_Base","data-name":"Icon \\u2013 Check \\u2013 Base",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...r},p.createElement("g",{id:"Large"},p.createElement("rect",{id:"Placement_area","data-name":"Placement area",width:24,height:24,fill:"#fff",opacity:0}),p.createElement("g",{id:"Check_icon","data-name":"Check icon",transform:"translate(303.874 1434.583)"},p.createElement("path",{vectorEffect:"non-scaling-stroke",id:"Path_884137","data-name":"Path 884137",d:"M148,494.611l4.248,4.244,8.538-8.522",transform:"translate(-446.265 -1917.177)",fill:"none",stroke:"currentColor"})))),w=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),x=function(){const o=typeof document<"u"&&document.createElement("link").relList;return o&&o.supports&&o.supports("modulepreload")?"modulepreload":"preload"}(),C=function(r){return"/"+r},O={},t=function(o,s,c){let h=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),d=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));h=Promise.allSettled(s.map(i=>{if(i=C(i),i in O)return;O[i]=!0;const _=i.endsWith(".css"),m=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${m}`))return;const u=document.createElement("link");if(u.rel=_?"stylesheet":x,_||(u.as="script"),u.crossOrigin="",u.href=i,d&&u.setAttribute("nonce",d),document.head.appendChild(u),_)return new Promise((E,I)=>{u.addEventListener("load",E),u.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${i}`)))})}))}function l(n){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n}return h.then(n=>{for(const d of n||[])d.status==="rejected"&&l(d.reason);return o().catch(l)})},$=r=>r.reduce((s,c)=>{if(!c)return s;if(typeof c=="string"&&(s+=` ${c}`),Array.isArray(c)){const[h,l]=c;h&&l&&(s+=` ${h}`)}return s},"").trim(),k={Add:e(()=>t(()=>import("../chunks/Add.js"),[])),Bulk:e(()=>t(()=>import("../chunks/Bulk.js"),[])),Burger:e(()=>t(()=>import("../chunks/Burger.js"),[])),Cart:e(()=>t(()=>import("../chunks/Cart.js"),[])),Check:e(()=>t(()=>Promise.resolve().then(()=>w),void 0)),ChevronDown:e(()=>t(()=>import("../chunks/ChevronDown.js"),[])),ChevronUp:e(()=>t(()=>import("../chunks/ChevronUp.js"),[])),ChevronRight:e(()=>t(()=>import("../chunks/ChevronRight.js"),[])),Close:e(()=>t(()=>import("../chunks/Close.js"),[])),Heart:e(()=>t(()=>import("../chunks/Heart.js"),[])),Minus:e(()=>t(()=>import("../chunks/Minus.js"),[])),Placeholder:e(()=>t(()=>import("../chunks/Placeholder.js"),[])),PlaceholderFilled:e(()=>t(()=>import("../chunks/PlaceholderFilled.js"),[])),Search:e(()=>t(()=>import("../chunks/Search.js"),[])),SearchFilled:e(()=>t(()=>import("../chunks/SearchFilled.js"),[])),Sort:e(()=>t(()=>import("../chunks/Sort.js"),[])),Star:e(()=>t(()=>import("../chunks/Star.js"),[])),View:e(()=>t(()=>import("../chunks/View.js"),[])),User:e(()=>t(()=>import("../chunks/User.js"),[])),Warning:e(()=>t(()=>import("../chunks/Warning.js"),[])),Locker:e(()=>t(()=>import("../chunks/Locker.js"),[])),Wallet:e(()=>t(()=>import("../chunks/Wallet.js"),[])),Card:e(()=>t(()=>import("../chunks/Card.js"),[])),Order:e(()=>t(()=>import("../chunks/Order.js"),[])),Delivery:e(()=>t(()=>import("../chunks/Delivery.js"),[])),OrderError:e(()=>t(()=>import("../chunks/OrderError.js"),[])),OrderSuccess:e(()=>t(()=>import("../chunks/OrderSuccess.js"),[])),PaymentError:e(()=>t(()=>import("../chunks/PaymentError.js"),[])),CheckWithCircle:e(()=>t(()=>import("../chunks/CheckWithCircle.js"),[])),WarningWithCircle:e(()=>t(()=>import("../chunks/WarningWithCircle.js"),[])),WarningFilled:e(()=>t(()=>import("../chunks/WarningFilled.js"),[])),InfoFilled:e(()=>t(()=>import("../chunks/InfoFilled.js"),[])),HeartFilled:e(()=>t(()=>import("../chunks/HeartFilled.js"),[])),Trash:e(()=>t(()=>import("../chunks/Trash.js"),[])),Eye:e(()=>t(()=>import("../chunks/Eye.js"),[])),EyeClose:e(()=>t(()=>import("../chunks/EyeClose.js"),[])),Date:e(()=>t(()=>import("../chunks/Date.js"),[])),AddressBook:e(()=>t(()=>import("../chunks/AddressBook.js"),[])),EmptyBox:e(()=>t(()=>import("../chunks/EmptyBox.js"),[])),Coupon:e(()=>t(()=>import("../chunks/Coupon.js"),[])),Gift:e(()=>t(()=>import("../chunks/Gift.js"),[])),GiftCard:e(()=>t(()=>import("../chunks/GiftCard.js"),[])),Edit:e(()=>t(()=>import("../chunks/Edit.js"),[]))};function A(r){try{if(r.startsWith("//")){const s=`${window.location.protocol}${r}`;return new URL(s).hostname!==window.location.hostname?(console.error(`[Icon] External URL rejected for security: ${r} - Only same-domain URLs are allowed`),!1):!0}return new URL(r).hostname!==window.location.hostname?(console.error(`[Icon] External URL rejected for security: ${r} - Only same-domain URLs are allowed`),!1):!0}catch{return console.error(`[Icon] Invalid URL format: ${r}`),!1}}function S({url:r,...o}){const[s,c]=L(""),[h,l]=L(!0),[n,d]=L(!1);return D(()=>{fetch(r).then(i=>{if(!i.ok)throw console.error(`[Icon] Failed to fetch SVG: ${i.status} ${i.statusText}`),n;return i.text()}).then(i=>{try{if(!new DOMParser().parseFromString(i,"image/svg+xml").querySelector("svg"))throw new Error("No <svg> element found")}catch(m){m instanceof Error?console.error(`[Icon] Invalid SVG content from ${r}: ${m.message}`):console.error(`[Icon] Invalid SVG content from ${r}: ${String(m)}`),d(!0),l(!1)}let _=i;o.width&&(_=_.replace(/<svg([^>]*)\s+width\s*=\s*["'][^"']*["']/gi,"<svg$1"),_=_.replace(/<svg/i,`<svg width="${o.width}"`)),o.height&&(_=_.replace(/<svg([^>]*)\s+height\s*=\s*["'][^"']*["']/gi,"<svg$1"),_=_.replace(/<svg/i,`<svg height="${o.height}"`)),o.title&&(_=_.replace(/<title[^>]*>.*?<\/title>/gi,""),_=_.replace(/<svg([^>]*)>/i,`<svg$1><title>${o.title}</title>`)),c(_),l(!1)}).catch(i=>{i instanceof Error?console.error(`[Icon] ${i.message}`):console.error(`[Icon] ${String(i)}`),d(!0),l(!1)})},[r,o.width,o.height,o.title]),h||n?a("svg",{...o}):a("span",{className:o.className,style:{width:String(o.width),height:String(o.height),display:"inline-flex",lineHeight:0},dangerouslySetInnerHTML:{__html:s}})}function U({source:r,size:o="24",stroke:s="2",viewBox:c="0 0 24 24",className:h,...l}){const n={className:$(["dropin-icon",`dropin-icon--shape-stroke-${s}`,h]),width:o,height:o,viewBox:c},d=typeof r=="string"&&(r.startsWith("http")||r.startsWith("//")||r.startsWith("/"));if(d&&A(r))return a(R,{fallback:a("svg",{...l,...n}),children:a(S,{url:r,...l,...n})});const i=typeof r=="string"&&r in k?k[r]:null,_=d&&!A(r);return a(R,{fallback:a("svg",{...l,...n}),children:i?a(i,{...l,...n}):_?a("svg",{...l,...n}):a(r,{...l,...n})})}const N=({name:r,value:o,size:s="medium",disabled:c=!1,error:h=!1,label:l="",description:n="",className:d,checked:i,..._})=>{const[m,u]=b(i===void 0?!1:i),E=y(null),I=f=>{var g;(g=_.onChange)==null||g.call(_,f),u(f.currentTarget.checked)},V=f=>{var g;f.key===" "&&(f.preventDefault(),(g=E==null?void 0:E.current)==null||g.click())};return D(()=>{typeof i=="boolean"&&u(i)},[i]),P("label",{className:v(["dropin-checkbox",["dropin-checkbox--disabled",c]]),children:[a("input",{ref:E,name:r,value:o,type:"checkbox",disabled:c,className:v(["dropin-checkbox__checkbox",["dropin-checkbox__checkbox--error",h],d]),..._,onChange:I,checked:m}),P("div",{className:"dropin-checkbox__checkbox-icon",children:["â€‹",a("span",{"aria-checked":m?"true":"false","aria-labelledby":`${r}-label`,"aria-describedby":n?`${r}-description`:void 0,className:v(["dropin-checkbox__box",["dropin-checkbox__box--error",h],["dropin-checkbox__box--disabled",c]]),role:"checkbox",tabIndex:c?-1:0,onKeyDown:V,children:a(U,{className:v(["dropin-checkbox__checkmark"]),source:T,size:"16",stroke:"3"})})]}),a("div",{id:`${r}-label`,className:v(["dropin-checkbox__label",`dropin-checkbox__label--${s}`,["dropin-checkbox__label--disabled",c]]),children:l}),a("div",{}),n&&a("div",{id:`${r}-description`,role:"note",className:v(["dropin-checkbox__description",`dropin-checkbox__description--${s}`,["dropin-checkbox__description--disabled",c]]),children:n})]})},W=({className:r,children:o,name:s,checked:c,...h})=>a("div",{...h,className:v(["emailconsent-email-consent-ui-component",r]),children:a(N,{name:s,label:o,checked:c})}),H=({children:r,name:o,checked:s,...c})=>a("div",{...c,children:a(W,{children:r,name:o,checked:s})});export{H as EmailConsentContainer,H as default};
//# sourceMappingURL=EmailConsentContainer.js.map
